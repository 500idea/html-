<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <script type='text/javascript'>
        // let person = {
        //     name: '小明',
        //     age: 12,
        //     knowledge: 60,
        //     study: function () {
        //         console.log('i am studying');
        //         this.knowledge++;//this  指当前对象
        //     },
        //     play: function () {
        //         console.log('i am playing games');
        //         this.knowledge--;
        //     }
        // }
        // person.teacher = '李明';//属性的添加
        // person.age = 13;//属性的修改
        // delete person.teacher;//属性的删除，当该对象没有该属性时，不会报错，会返回undefined
        
        //包装类
        // var m = 'abcd';
        // m.length = 2;
        // console.log(m);

        // var str = 'abc';
        // str += 1;
        // var type1 = typeof(str);
        // if(type1.length == 6) {
        //     type1.sign = 'typeof的返回结果可能是String';
        // }
        // console.log(type1.sign);//没有改属性

        // var n = 5;
        // function testN() {
        //     a = 0;
        //     console.log(a);
        //     console.log(this.a);//this指向win
        //     console.log(this.n);
        //     var a;
        //     console.log(this.a);
        // }
        // testN();
        // var n = 5;
        // function testN(target) {
        //     a = 0;
        //     this.a = target;//this指向gg
        //     console.log(a);
        //     console.log(this.a);
        //     console.log(this.n);
        //     var a;
        //     console.log(this.a);
        // }
        // let gg = new testN('gg');

        // function Person1(name,age) {
        //     var a = 0;
        //     this.name = name;
        //     this.age = age;
        //     this.s = function sss() {
        //         a++;
        //         console.log(a);
        //     }
        // }
        // var person11 = new Person1('小明',16);
        // person11.s();
        // person11.s();
        // person11.s();
        // var person22 = new Person1('小明',16);
        // person22.s();
        // person22.s();
        // person11.s();

        // var x = 1, y = z = 0;
        // function add(n) {
        //     return n = n + 1;
        // }
        // y = add(x);
        // function add(n) {
        //     return n = n + 3;
        // }
        // z = add(x);
        // console.log(x,y,z);

        // function foo(x) {
        //     console.log(arguments);
        //     return x;
        // }(1, 2, 3, 4, 5);
        // (function foo(x) {
        //     console.log(arguments);
        //     return x;
        // }(1, 2, 3, 4, 5));
        

        //原型 prototype
        // function Person(){
        //   this.hair = 'black';
        // }
        // Person.prototype.lastName = '张';
        // var person = new Person(); 

        // function Car(name, Color){
        //   this.name = name;
        //   this.color = Color;
        // }
        // Car.prototype = {
        //   weight: '5000kg',
        //   height: '120cm',
        //   long: '4900cm',
        //   constructor: Person
        // }
        // var car1 = new Car('王', 'red');

        let hamster = {
            stomach: [],

            eat(food) {
                this.stomach = [food];
            }
        };

        let speedy = {
            name: '1',
            __proto__: hamster
        };

        let lazy = {
            name: '2',
            __proto__: hamster
        };

        // 这只仓鼠找到了食物
        speedy.eat("apple");
        alert( speedy.stomach ); // apple

        // 这只仓鼠也找到了食物，为什么？请修复它。
        alert( lazy.stomach ); // apple

        //原型链
        //call/apply 改变this指向
        // function Person(name,age) {
        //     this.name = name;
        //     this.age = age;
        // }
        // var person = new Person('xiaowang', 33);
        // var person2 = {};//必须是个js对象
        // Person.call(person2, 'xiaozhao', 22);
        // var person3 = {};
        // Person.apply(person3, ['xiaoming', 11]);
        // function Sit(color, num) {
        //     this.color = color;
        //     this.num = num;
        // }
        // function Wheel(size) {
        //     this.size = size;
        // }
        // function Car(color, num, size) {
        //     Sit.call(this, color, num);
        //     Wheel.call(this, size);
        // }
        // function Car_apply(color, num, size) {
        //     Sit.apply(this, [color, num]);
        //     Wheel.apply(this, [size]);
        // }
        // var car1 = new Car('red', 4, 590);
        // var car_apply = new Car('green', 4, 590);

        //test
        // function foo() { bar.apply(foo, arguments) }
        // function bar(x) { console.log(arguments) }
        // foo(1, 2, 3, 4, 5)
        
        // var aa = 1;
        // if( function f(){}) {
        //   aa += typeof(f);
        // }
        // console.log(aa)

        // var foo = '123';
        // function aa (){
        //   var foo = '234';
        //   this.foo = '345';
        //   console.log(foo);
        // }
        // aa();
        // console.log(foo);

        // var name = '222';
        // var a = {
        //   name : '111',
        //   say : function (){
        //     console.log(this.name)
        //   }
        // }
        // var fun = a.say;
        // fun(); // 222
        // a.say(); // 111
        // var b = { 
        //   name : '333',
        //   say : function (){
        //     fun();
        //   }
        // }
        // b.say(a.say); // 222
        // b.say = a.say;
        // b.say();  // 333

        // function print() {
        //     var marty = {
        //       name : 'marty',
        //       printName : function(){ console.log(this.name);}
        //     }
        //     var test1 = { name : 'test1'};
        //     var test2 = { name : 'test2'};
        //     var test3 = { name : 'test3'};
        //     test3.printName = marty.printName;
        //     var printName2 = marty.printName.bind({name : 123});
        //     marty.printName.call(test1); //test1
        //     marty.printName.apply(test2); // test2
        //     marty.printName(); // marty
        //     printName2(); // ??
        //     test3.printName(); // test3
        // }
        
        // var a = {aa : '123'};
        // function print() {
        //   a.aa = '234';
        //   Object.prototype.b = '456';
        //   return function mm(){
        //     console.log(a.aa); // 234
        //     console.log(a.b); // 456
        //   }
        // }
        // print()();

        // 克隆
        let obj1 = {
            mynum : 17,
            mystring : 'male',
            myboolean : true,
            mynull : null,
            myundefined: undefined,
            mydate : new Date(),
            myfn : function(){console.log('do it!')},
            myobj : {name : 'book1', author : '文' },
            myarr : [1, 2, 3, 4],
            myjson : {
              'data' : [
                {
                  'data_1' : 1,
                  'data_2' : 2
                },
                {
                  'data_1' : 3,
                  'data_2' : 4
                }
              ]
            }
        }
        // function colean(origin,target) {
        //   var target = target || {};
        //   for(let key in origin) {
        //     target[key] = origin[key];
        //   }
        //   return target;
        // }
        // let obj2 = colean(obj1);
        // console.log(obj2);
        // obj2[name] = '张三';
        // obj2.books[1]= '99';
        // console.log(obj1,obj2);
        //invalid
        // function deepColean(origin, target) {
        //   var target = target || {},
        //       toStr = Object.prototype.toString,
        //       arrStr = '[object Array]';
        //   for(var key in origin) {
        //     if(origin.hasOwnProperty(key)){
        //       if( typeof(origin.key) == 'object'){
        //         target.key = toStr.call(origin.key) == arrStr ? [] : {};
        //         colean2(origin[key], target[key])
        //       }else{
        //         target[key] = origin[key];
        //       }
        //     }
        //   }
        //   return target;
        // }
        // var obj2 = deepColean(obj1);
        
  </script>
</body>

</html>